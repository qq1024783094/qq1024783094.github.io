import{n as W,T as P,e as j,f as O,a as Q,b as U,d as X,c as Z,_ as G,o as J,g as K,h as tt,i as et}from"./app.Bips8P1-.js";import{_ as nt}from"./YunPostCollapse.vue_vue_type_style_index_0_lang.D9ouAgY7.js";import"./chunks/@vueuse/motion.QKQgXNlf.js";import{u as ot,a as st}from"./animation.DX_eCdmu.js";import{a9 as k,bb as B,b3 as c,Z as T,_ as f,bt as S,U as b,bf as at,a6 as t,b_ as n,X as C,bh as rt,bB as o,H as it,F as R,bd as ct,aQ as lt,Y as ut}from"./framework.BKJYaCLv.js";import{_ as mt}from"./YunPageHeader.vue_vue_type_script_setup_true_lang.C4S-U0YE.js";import{a as pt,u as _t}from"./chunks/vue-router.CPlbVIsw.js";import"./chunks/dayjs.ouEjkJjx.js";import{u as ft}from"./chunks/vue-i18n.D_IX1rR7.js";import"./chunks/pinia.S032aTqE.js";import"./chunks/nprogress.DNVyqPj2.js";import"./index.x8TNrC4q.js";function gt(u={primary:"#0078E7"}){const s=W(),a=new P("#999999"),r=new P(u.primary);return{tags:s,getTagStyle:i=>{const p=Array.from(s.value).map(([d,h])=>h.count),g=Math.max(...p),e=Math.min(...p),y=g-e,_=(i-e)/y;return{"--yun-tag-color":a.mix(r,_*100).toString(),fontSize:`${_*36+12}px`}}}}const yt={"inline-flex":""},dt={"inline-flex":"",text:"xs"},ht=k({__name:"YunLayoutPostTag",props:{i:{},title:{},count:{}},setup(u){const s=u,a=B();return ot(a,{i:s.i||0,delay:25}),(r,m)=>(c(),T("span",{ref_key:"tagRef",ref:a,"inline-flex":"",my:"2",p:"1",class:"post-tag cursor-pointer items-baseline leading-4"},[f("span",yt,"#"+S(r.title),1),f("span",dt,"["+S(r.count)+"]",1)],512))}}),vt={class:"yun-text-light",text:"center",p:"2"},xt={class:"justify-center items-end",flex:"~ wrap",gap:"1"},At=k({__name:"tags",setup(u){j([O({"@type":"CollectionPage"})]);const s=pt(),a=_t(),r=Q(),{t:m}=ft(),i=U(),{tags:p,getTagStyle:g}=gt({primary:r.value.colors.primary}),e=b(()=>s.query.tag||""),y=X(),_=b(()=>y.postList.filter(l=>l.tags?typeof l.tags=="string"?l.tags===e.value:l.tags.includes(e.value):!1)),d=B(),{show:h}=st(d);function V(v){a.push({query:{tag:v}}),h()}const A=Z(i),Y=b(()=>Array.from(p.value).sort());return(v,l)=>{const F=G,$=mt,E=ht,w=at("RouterView"),N=nt,q=J,z=K,D=tt,H=et;return c(),T(R,null,[t(D,null,{default:n(()=>[t(F),t(w,null,{default:n(({Component:I})=>[(c(),C(rt(I),null,{"main-header":n(()=>[t($,{title:o(A)||o(m)("menu.tags"),icon:o(i).icon||"i-ri-tag-line",color:o(i).color,"page-title-class":o(i).pageTitleClass},null,8,["title","icon","color","page-title-class"])]),"main-content":n(()=>[t(it,{"enter-active-class":"animate-fade-in animate-duration-400",appear:""},{default:n(()=>[f("div",vt,S(o(m)("counter.tags",Y.value.length)),1)]),_:1}),f("div",xt,[(c(!0),T(R,null,ct(Y.value,([x,L],M)=>(c(),C(E,{key:x,i:M,title:x,count:L.count,style:lt(o(g)(L.count)),onClick:bt=>V(x.toString())},null,8,["i","title","count","style","onClick"]))),128))]),t(w)]),"main-nav-before":n(()=>[e.value?(c(),C(q,{key:0,ref_key:"collapse",ref:d,m:"t-4",w:"full"},{default:n(()=>[t($,{title:e.value,icon:"i-ri-hashtag"},null,8,["title"]),t(N,{w:"full",m:"b-4",p:"x-20 lt-sm:x-5",posts:_.value},null,8,["posts"])]),_:1},512)):ut("v-if",!0)]),_:2},1024))]),_:1}),t(z)]),_:1}),t(H)],64)}}});export{At as default};
